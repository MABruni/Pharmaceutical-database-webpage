<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    
    <div class="container is-flex is-justify-content-center">
        <nav class="navbar" role="navigation">
            <section class="navbar-start">
                <a class="navbar-item" href="/">Dashboard</a>
                <a class="navbar-item" href="/orders">Orders</a>
                <a class="navbar-item" href="/vendors">Vendor</a>
                <a class="navbar-item" href="/vendordrugs">Vendor Drugs</a>
                <a class="navbar-item" href="/locations">Locations</a>
                <a class="navbar-item" href="/shelves">Shelves Information</a>
                <!-- DrugInformation joins DrugLocations, DrugIngredients and VendorDrugs -->
                <a class="navbar-item" href="/druginformation">Drug Information</a>
                <a class="navbar-item" href="/ingredients">Declared Ingredients</a>
            </section>
        </nav>
    </div>

    <title>Shelves</title>
</head>

<body>
    <article class="container is-fluid">
        <div class="">
            <header>
                <h1 class="has-text-centered is-size-2 has-text-weight-bold mb-4">Shelves</h1>
            </header>
        </div>
        <div class="table-container">
            <div class="block column">
                <div class="box">
                    <table style="width: 100%; font-size: 14px;" class="table is-bordered is-hoverable is-fullwidth">
                        <thead>
                            <tr>
                                <th class="has-text-centered">Shelf code</th>
                                <th class="has-text-centered">Fridge</th>
                                <th class="has-text-centered">Freezer</th>
                                <th class="has-text-centered">Location</th>
                                <th class="has-text-centered">Room</th>
                                <th class="has-text-centered">Container Code</th>
                                <th class="has-text-centered">Drug Name</th>
                                <th class="has-text-centered">Drug NDC</th>
                                <th class="has-text-centered">Capacity</th>
                                <th class="has-text-centered">Availability</th>
                                <th style="width: 10%"></th>
                                <th style="width: 10%"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <% shelf_data.forEach(function(shelf) { %>
                                <% if (shelf.shelfCode == shelf_code && shelf.containerCode == container_code && shelf.drugName == drug_name) { %>
                                    <form action="../../../shelfchanges?_method=PUT" method="POST">
                                        <tr>
                                            <td class="is-vcentered">
                                                <input type="text" name="scode" value="<%= shelf.shelfCode %>">
                                                <%= shelf.shelfCode %>
                                            </td>
                                            <td class="is-vcentered">
                                                <input type="text" name="fridge" value="<%= shelf.fridge %>">
                                                <%= shelf.fridge %>
                                            </td>
                                            <td class="is-vcentered">
                                                <input type="text" name="freezer" value="<%= shelf.freezer %>">
                                                <%= shelf.freezer %>
                                            </td>
                                            <td class="is-vcentered">
                                                <input type="text" name="location" value="<%= shelf.locationName %>">
                                                <%= shelf.locationName %>
                                            </td>
                                            <td class="is-vcentered">
                                                <input type="text" name="room" value="<%= shelf.room %>">
                                                <%= shelf.room %>
                                            </td>
                                            <td class="is-vcentered">
                                                <input type="text" name="container" value="<%= shelf.containerCode %>">
                                                <%= shelf.containerCode %>
                                            </td>
                                            <td class="is-vcentered">
                                                <input type="text" name="dname" value="<%= shelf.drugName %>">
                                                <%= shelf.drugName %>
                                            </td>
                                            <td class="is-vcentered">
                                                <input type="text" name="ndc" value="<%= shelf.drugNDC %>">
                                                <%= shelf.drugName %>
                                            </td>
                                            <td class="is-vcentered">
                                                <input type="text" name="capacity" value="<%= shelf.capacity %>">
                                                <%= shelf.capacity %>
                                            </td>
                                            <td class="is-vcentered">
                                                <input type="text" name="availability" value="<%= shelf.availability %>">
                                                <%= shelf.availability %>
                                            </td>
                                            <td class="has-text-centered"><button class="button is-primary">Save</button></a></td>                     
                                        </tr>
                                    </form>
                                <% } else { %>
                                    <tr>
                                        <td class="is-vcentered"><%= shelf.shelfCode %></td>
                                        <td class="is-vcentered"><%= shelf.fridge %></td>
                                        <td class="is-vcentered"><%= shelf.freezer %></td>
                                        <td class="is-vcentered"><%= shelf.locationName %></td>
                                        <td class="is-vcentered"><%= shelf.room %></td>
                                        <td class="is-vcentered"><%= shelf.containerCode %></td>
                                        <td class="is-vcentered"><%= shelf.drugName %></td>
                                        <td class="is-vcentered"><%= shelf.drugNDC %></td>
                                        <td class="is-vcentered"><%= shelf.capacity %></td>
                                        <td class="is-vcentered"><%= shelf.availability %></td>
                                        <td class="has-text-centered"><a href="/shelves/editshelf/<%= shelf.shelfCode %>/<%= shelf.containerCode %>/<%= shelf.drugName %>"><button class="button is-link">Edit</button></a></td>
                                        <td class="has-text-centered"><a href="#"><button class="button is-danger">Delete</button></a></td>                     
                                    </tr>
                                <% } %>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="columns">
            <div class="block column">
                <div class="box">
                    <form action="">
                        <fieldset>
                            <legend class="is-size-4 has-text-weight-bold mb-5">Add New Shelf</legend>

                            <div class="field">
                                <label class="label" for="textinput-0">Shelf code</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Fridge</label>
                                <div class="select">
                                    <select name="Fridge" id="">
                                        <option value="" selected hidden>Select an option</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Freezer</label>
                                <div class="select">
                                    <select name="Fridge" id="">
                                        <option value="" selected hidden>Select an option</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Location Name</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Room</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Container code</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Drug name</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Capacity</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Availability</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="singlebutton-0"></label>
                                <div class="control">
                                    <button id="singlebutton-0" name="singlebutton-0"
                                        class="button is-primary">Add</button>
                                </div>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>

            <div class="block column">
                <div class="box">
                    <form action="">
                        <fieldset>
                            <legend class="is-size-4 has-text-weight-bold mb-5">Search Shelves</legend>

                            <div class="field">
                                <label class="label" for="textinput-0">Shelf code</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Fridge</label>
                                <div class="select">
                                    <select name="Fridge" id="">
                                        <option value="" selected hidden>Select an option</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Freezer</label>
                                <div class="select">
                                    <select name="Fridge" id="">
                                        <option value="" selected hidden>Select an option</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Location Name</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Room</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Container code</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Drug name</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Capacity</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="textinput-0">Availability</label>
                                <div class="control">
                                    <input id="textinput-0" name="textinput-0" type="text" placeholder="" 
                                        class="input">
                                </div>
                            </div>

                            <div class="field">
                                <label class="label" for="singlebutton-0"></label>
                                <div class="control">
                                    <button id="singlebutton-0" name="singlebutton-0"
                                        class="button is-primary">Search</button>
                                </div>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </article>

    <footer class="footer">
        <div class="content has-text-centered">
                Group 73 &copy; <strong>2023</strong>
        </div>
    </footer>
</body>