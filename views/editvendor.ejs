<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <title>Vendors</title>
</head>

<body>
    <div class="container is-flex is-justify-content-center">
        <nav class="navbar" role="navigation">
            <section class="navbar-start">
                <a class="navbar-item" href="/">Dashboard</a>
                <a class="navbar-item" href="/orders">Orders</a>
                <a class="navbar-item" href="/vendors">Vendors</a>
                <a class="navbar-item" href="/vendordrugs">Vendor Drugs</a>
                <a class="navbar-item" href="/locations">Locations</a>
                <a class="navbar-item" href="/shelves">Shelves Information</a>
                <!-- DrugInformation joins DrugLocations, DrugIngredients and VendorDrugs -->
                <a class="navbar-item" href="/druginformation">Drug Information</a>
                <a class="navbar-item" href="/ingredients">Declared Ingredients</a>
            </section>
        </nav>
    </div>
    <main>
        <article class="container is-fluid">
            <div class="">
                <header>
                    <h1 class="has-text-centered is-size-2 has-text-weight-bold mb-4">Vendors</h1>
                </header>
            </div>
        </article>


        <article class="container is-fluid">
            <div class="table-container">
                <div class="block column">
                    <div class="box">

                        <table class="table is-bordered is-hoverable is-fullwidth">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Vendor Name</th>
                                    <th>Contact Person</th>
                                    <th>Phone Number</th>
                                    <th>Email</th>
                                    <th>Street</th>
                                    <th>City</th>
                                    <th>State</th>
                                    <th>Zip Code</th>
                                    <th></th>

                                </tr>
                            </thead>
                            <tbody>
                                <% vendorData.forEach(function(vendor) { %>
                                    <% if (vendor.vendorName == name) { %>
                                        <form action="../vendorchanges?_method=PUT" method="POST">
                                            <tr>
                                                <td align="right">
                                                    <input type="hidden" name="ID" value="<%= vendor.vendorID %>"/>
                                                    <%= vendor.vendorID %>
                                                </td>
                                                <td>
                                                    <input type="text" name="name" value="<%= vendor.vendorName %>"> 
                                                    <%= vendor.vendorName %>
                                                </td>
                                                <td>
                                                    <input type="text" name="contact" value="<%= vendor.contactPerson %>">
                                                    <%= vendor.contactPerson %>
                                                </td>
                                                <td>
                                                    <input type="text" name="phoneNumber" value="<%= vendor.phoneNumber %>">
                                                    <%= vendor.phoneNumber %>
                                                </td>
                                                <td>
                                                    <input type="text" name="email" value="<%= vendor.email %>">
                                                    <%= vendor.email %>
                                                </td>
                                                <td>
                                                    <input type="text" name="street" value="<%=  vendor.street %>">
                                                    <%= vendor.street %>
                                                </td>
                                                <td>
                                                    <input type="text" name="city" value="<%= vendor.city %>">
                                                    <%= vendor.city %>
                                                </td>
                                                <td>
                                                    <input type="text" name="state" value="<%=vendor.state %>">
                                                    <%= vendor.state %>
                                                </td>
                                                <td>
                                                    <input type="text" name="zipCode" value="<%= vendor.zipCode %>">
                                                    <%= vendor.zipCode %>
                                                </td>
                                                <td><button class="button is-primary" type="submit">Save</button></td>
                                            </tr>
                                        </form>
                                    <% } else { %>
                                        <tr>
                                            <td><%= vendor.vendorID %></td>
                                            <td><%= vendor.vendorName %></td>
                                            <td><%= vendor.contactPerson %></td>
                                            <td><%= vendor.phoneNumber %></td>                                         
                                            <td><%= vendor.email %></td>
                                            <td><%= vendor.street %></td>
                                            <td><%= vendor.city %></td>
                                            <td><%= vendor.state %></td>
                                            <td><%= vendor.zipCode %></td>
                                            <td><a href="/vendors/editvendor/<%= vendor.vendorName %>" class="button is-link">Edit</a></td>
                                            <td>
                                                <form method="POST" action="/deletevendor/<%= vendor.vendorName %>?_method=DELETE">
                                                    <button class="button is-danger">Delete</button>                    
                                                </form>
                                            </td> 
                                        </tr>
                                    <% } %>
                                <% }) %>
                            </tbody>
                            <tfoot></tfoot>
                        </table>
                    </div>
                </div>
            </div>

            <div class="columns">
                <div class="block column">
                    <div class="box">
                        <form action="">
                            <fieldset>
                                <legend class="is-size-4 has-text-weight-bold mb-5">Add new vendor</legend>

                                <div class="field">
                                    <label class="label" for="textinput-0">Vendor Name</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">Contact Person</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">Phone number</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">Email</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">Street</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">City</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">State</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">Zip code</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" inputmode="numeric"
                                            placeholder="" class="input">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="singlebutton-0"></label>
                                    <div class="control">
                                        <button id="singlebutton-0" name="singlebutton-0"
                                            class="button is-primary">Add</button>
                                    </div>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>

                <div class="block column">
                    <div class="box">
                        <form action="">
                            <fieldset>
                                <legend class="is-size-4 has-text-weight-bold mb-5">Search Vendor</legend>

                                <div class="field">
                                    <label class="label" for="textinput-0">Vendor Name</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">Contact Person</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">Phone number</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">Email</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">Street</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">City</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">State</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" placeholder=""
                                            class="input ">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="textinput-0">Zip code</label>
                                    <div class="control">
                                        <input id="textinput-0" name="textinput-0" type="text" inputmode="numeric"
                                            placeholder="" class="input">
                                    </div>
                                </div>

                                <div class="field">
                                    <label class="label" for="singlebutton-0"></label>
                                    <div class="control">
                                        <button id="singlebutton-0" name="singlebutton-0"
                                            class="button is-primary">Search</button>
                                    </div>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </article>
    </main>
    <footer class="footer">
        <div class="content has-text-centered">
            Group 73 &copy; <strong>2023</strong>
        </div>
    </footer>
</body>

</html>